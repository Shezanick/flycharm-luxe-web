<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Internal Booking | Flycharm</title>
    <meta name="robots" content="noindex, nofollow">
    <link rel="icon" type="image/png" href="favicon.PNG">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@500;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

    <style>
        :root {
            --brand-lime: #D5FE00;
            --brand-black: #0a0a0a;
            --brand-surface: #141414;
            --brand-border: rgba(255, 255, 255, 0.08);
            --text-primary: #EDEDED;
            --text-secondary: #888888;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: var(--brand-black);
            /* Subtle premium grain texture using gradients */
            background-image: 
                radial-gradient(circle at 50% 0%, #252525 0%, transparent 75%),
                linear-gradient(0deg, rgba(0,0,0,0.2) 0%, rgba(0,0,0,0.2) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0,0,0,0.2) 0%, rgba(0,0,0,0.2) 1px, transparent 1px);
            background-size: 100% 100%, 40px 40px, 40px 40px;
            color: var(--text-primary);
            font-family: 'Inter', sans-serif;
            -webkit-font-smoothing: antialiased;
            min-height: 100vh;
        }

        .font-brand-header {
            font-family: 'Space Grotesk', sans-serif;
            font-weight: 700;
            letter-spacing: -0.03em;
        }

        .text-cyber-lime { color: var(--brand-lime); }

        /* --- Inputs --- */
        .form-input, .form-select {
            background-color: rgba(255, 255, 255, 0.03);
            border: 1px solid var(--brand-border);
            color: #fff;
            padding: 0.875rem 1rem;
            border-radius: 0.5rem;
            width: 100%;
            transition: all 0.2s ease;
            font-size: 0.95rem;
            font-family: 'Inter', sans-serif;
        }

        .form-input:focus, .form-select:focus {
            outline: none;
            border-color: var(--brand-lime);
            background-color: rgba(213, 254, 0, 0.02);
            box-shadow: 0 0 0 1px var(--brand-lime);
        }

        .form-input::placeholder {
            color: #555;
        }

        .form-label {
            display: block;
            margin-bottom: 0.4rem;
            font-weight: 600;
            color: var(--text-secondary);
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        /* --- Buttons --- */
        .submit-btn {
            background-color: var(--brand-lime);
            color: var(--brand-black);
            font-weight: 700;
            padding: 1rem 2rem;
            border-radius: 0.5rem;
            border: none;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1.1rem;
            width: 100%;
            margin-top: 1rem;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px -10px rgba(213, 254, 0, 0.4);
        }

        .submit-btn:active {
            transform: translateY(0);
        }

        /* --- Tabs --- */
        .tab-container {
            background: var(--brand-surface);
            border: 1px solid var(--brand-border);
            padding: 4px;
            border-radius: 0.75rem;
            margin-bottom: 2rem;
        }

        .tab-button {
            padding: 0.75rem 1rem;
            border: none;
            background-color: transparent;
            color: #666;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
            font-size: 0.875rem;
            border-radius: 0.5rem;
            font-family: 'Space Grotesk', sans-serif;
        }

        .tab-button.active {
            background-color: rgba(255, 255, 255, 0.1);
            color: #fff;
        }

        /* --- Toggle Switch --- */
        .trip-toggle {
            padding: 0.75rem;
            border: 1px solid var(--brand-border);
            background-color: rgba(255,255,255,0.02);
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.2s;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .trip-toggle:hover {
            background-color: rgba(255,255,255,0.05);
        }

        .trip-toggle.active {
            border-color: var(--brand-lime);
            background-color: rgba(213, 254, 0, 0.1);
            color: var(--brand-lime);
            position: relative;
            z-index: 1;
        }

        /* --- Cards --- */
        .section-card {
            background-color: var(--brand-surface);
            padding: 1.5rem;
            border-radius: 1rem;
            margin-bottom: 1.5rem;
            border: 1px solid var(--brand-border);
            box-shadow: 0 4px 20px rgba(0,0,0,0.2);
        }

        .section-title {
            font-size: 1.125rem;
            margin-bottom: 1.25rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid rgba(255,255,255,0.05);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .section-dot {
            width: 8px;
            height: 8px;
            background-color: var(--brand-lime);
            border-radius: 50%;
            display: inline-block;
        }

        /* --- Lock Screen --- */
        .locked-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #050505;
            background-image: radial-gradient(circle at 50% 50%, #1a1a1a 0%, #000 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            transition: opacity 0.4s ease;
        }

        .error-message {
            color: #ff4444;
            font-size: 0.875rem;
            margin-top: 1rem;
            letter-spacing: 0.02em;
        }

        /* --- Utilities --- */
        input[type="date"]::-webkit-calendar-picker-indicator,
        input[type="time"]::-webkit-calendar-picker-indicator {
            filter: invert(1) opacity(0.7);
            cursor: pointer;
        }
        
        input[type="date"]::-webkit-calendar-picker-indicator:hover,
        input[type="time"]::-webkit-calendar-picker-indicator:hover {
            opacity: 1;
        }

        /* Custom Grid for consistent layout */
        .grid { display: grid; }
        .grid-cols-1 { grid-template-columns: repeat(1, minmax(0, 1fr)); }
        .grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
        .gap-4 { gap: 1rem; }

        @media (min-width: 768px) {
            .md\:grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
            .md\:col-span-2 { grid-column: span 2 / span 2; }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        #mainContent {
            animation: fadeIn 0.6s ease-out forwards;
        }
    </style>
</head>
<body>
    <!-- Access Code Lock (Logo appears ONLY here) -->
    <div id="lockOverlay" class="locked-overlay">
        <div style="text-align: center; max-width: 28rem; margin: 0 auto; padding: 2rem;">
            <img src="Flycharm-logo-clear-w.png" alt="Flycharm" style="height: 4rem; margin: 0 auto 2.5rem;">
            <h1 class="font-brand-header" style="font-size: 1.5rem; margin-bottom: 0.5rem; color: #fff;">Internal Portal</h1>
            <p style="color: #666; margin-bottom: 2rem; font-size: 0.9rem;">Secure Access Required</p>
            <input
                type="password"
                id="accessCode"
                class="form-input"
                style="text-align: center; font-size: 2rem; letter-spacing: 0.5em; margin-bottom: 0.5rem; border-color: #333;"
                placeholder="â€¢â€¢â€¢â€¢"
                maxlength="4"
                autocomplete="off"
            >
            <p id="accessError" class="error-message" style="display: none;">Invalid Access Code</p>
        </div>
    </div>

    <!-- Main Content -->
    <div id="mainContent" style="display: none;">
        <div style="max-width: 46rem; margin: 0 auto; padding: 3rem 1.5rem;">
            <!-- Text Header (No Image Logo) -->
            <div style="text-align: center; margin-bottom: 2.5rem;">
                <h1 class="font-brand-header" style="font-size: 2.5rem; margin-bottom: 0.25rem; color: #fff;">FLYCHARM</h1>
                <p class="text-cyber-lime" style="font-size: 0.875rem; font-weight: 600; letter-spacing: 0.1em;">INTERNAL BOOKING SYSTEM</p>
            </div>

            <!-- Booking Type Toggle -->
            <div class="tab-container" style="display: flex; gap: 0; max-width: 24rem; margin-left: auto; margin-right: auto;">
                <button id="domesticTab" class="tab-button active" style="flex: 1;">Domestic</button>
                <button id="internationalTab" class="tab-button" style="flex: 1;">International</button>
            </div>

            <!-- Domestic Form -->
            <form id="domesticForm" style="display: block;">
                <div style="margin-bottom: 2rem;">
                    <!-- Trip ID -->
                    <div class="section-card" style="display: flex; gap: 1rem; align-items: flex-end;">
                        <div style="flex: 1;">
                            <label class="form-label">Trip Reference ID</label>
                            <input type="text" name="tripId" class="form-input" placeholder="e.g. 110" style="font-family: 'Space Grotesk'; font-size: 1.1rem;" required autofocus>
                        </div>
                        <!-- Trip Type Toggle -->
                        <div style="flex: 1;">
                            <label class="form-label">Itinerary Type</label>
                            <div style="display: flex; gap: 0;">
                                <button type="button" id="oneWayBtn" class="trip-toggle active" style="flex: 1; border-radius: 0.5rem 0 0 0.5rem;">One Way</button>
                                <button type="button" id="roundTripBtn" class="trip-toggle" style="flex: 1; border-radius: 0 0.5rem 0.5rem 0;">Round Trip</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Passenger Details -->
                <div class="section-card">
                    <h3 class="font-brand-header section-title"><span class="section-dot"></span>Passenger Manifest</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="form-label">Title</label>
                            <select name="title" class="form-select" required>
                                <option value="">Select</option>
                                <option value="Mr.">Mr.</option>
                                <option value="Mrs.">Mrs.</option>
                                <option value="Ms.">Ms.</option>
                                <option value="Master">Master</option>
                            </select>
                        </div>
                        <div>
                            <label class="form-label">First Name</label>
                            <input type="text" name="firstName" class="form-input" required>
                        </div>
                        <div class="md:col-span-2">
                            <label class="form-label">Last Name</label>
                            <input type="text" name="lastName" class="form-input" required>
                        </div>
                        <div>
                            <label class="form-label">Date of Birth</label>
                            <input type="date" name="dob" class="form-input" max="2024-12-31" required>
                        </div>
                        <div>
                            <label class="form-label">FF# (Optional)</label>
                            <input type="text" name="ffNumber" class="form-input" placeholder="Airline Membership">
                        </div>
                    </div>
                </div>

                <!-- Flight Details -->
                <div class="section-card">
                    <h3 class="font-brand-header section-title"><span class="section-dot"></span>Flight Logistics</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="md:col-span-2">
                            <label class="form-label">Airline</label>
                            <input type="text" name="airline" class="form-input" placeholder="Air India, IndiGo, etc." required>
                        </div>
                        <div>
                            <label class="form-label">Origin Code</label>
                            <input type="text" name="origin" class="form-input" placeholder="DEL" style="text-transform: uppercase;" required>
                        </div>
                        <div>
                            <label class="form-label">Dest. Code</label>
                            <input type="text" name="destination" class="form-input" placeholder="BOM" style="text-transform: uppercase;" required>
                        </div>
                        <div>
                            <label class="form-label">Depart Date</label>
                            <input type="date" name="departDate" class="form-input" id="departDateDom" required>
                        </div>
                        <div>
                            <label class="form-label">Depart Time</label>
                            <input type="time" name="departTime" class="form-input" required>
                        </div>
                        <div>
                            <label class="form-label">Arrival Time</label>
                            <input type="time" name="arrivalTime" class="form-input" required>
                        </div>

                        <!-- Return Fields -->
                        <div id="returnDateField" style="display: none;">
                            <label class="form-label">Return Date</label>
                            <input type="date" name="returnDate" class="form-input" id="returnDateDom">
                        </div>
                        <div id="returnTimeField" style="display: none;">
                            <label class="form-label">Return Depart Time</label>
                            <input type="time" name="returnTime" class="form-input">
                        </div>
                        <div id="returnArrivalField" style="display: none;">
                            <label class="form-label">Return Arrival Time</label>
                            <input type="time" name="returnArrival" class="form-input">
                        </div>

                        <div>
                            <label class="form-label">Cabin Class</label>
                            <select name="class" class="form-select" required>
                                <option value="Economy" selected>Economy</option>
                                <option value="Business">Business</option>
                                <option value="First">First</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Payment Details -->
                <div class="section-card">
                    <h3 class="font-brand-header section-title"><span class="section-dot"></span>Payment Information</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="form-label">Committed Price</label>
                            <input type="text" name="price" class="form-input" placeholder="â‚¹0.00" required>
                        </div>
                        <div>
                            <label class="form-label">Status</label>
                            <select name="paymentStatus" class="form-select" required>
                                <option value="DUE" selected>DUE</option>
                                <option value="PAID">PAID</option>
                            </select>
                        </div>
                        <div class="md:col-span-2">
                            <label class="form-label">Payment Method</label>
                            <select name="paymentMethod" class="form-select" required>
                                <option value="Shezan CC" selected>Shezan CC</option>
                                <option value="Shezan's Friend">Shezan's Friend</option>
                                <option value="Avesh SBI">Avesh SBI</option>
                                <option value="Mulla Salim">Mulla Salim</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Notes -->
                <div class="section-card">
                    <label class="form-label">Operational Notes</label>
                    <textarea name="notes" class="form-input" rows="2" placeholder="Special requests, baggage allowance, etc."></textarea>
                </div>

                <button type="submit" class="submit-btn">Send to WhatsApp ðŸ’¬</button>
            </form>

            <!-- International Form -->
            <form id="internationalForm" style="display: none;">
                <div style="margin-bottom: 2rem;">
                    <div class="section-card" style="display: flex; gap: 1rem; align-items: flex-end;">
                        <div style="flex: 1;">
                            <label class="form-label">Trip Reference ID</label>
                            <input type="text" name="tripId" class="form-input" placeholder="e.g. 1101" style="font-family: 'Space Grotesk'; font-size: 1.1rem;" required>
                        </div>
                        <div style="flex: 1;">
                            <label class="form-label">Itinerary Type</label>
                            <div style="display: flex; gap: 0;">
                                <button type="button" id="oneWayBtnIntl" class="trip-toggle active" style="flex: 1; border-radius: 0.5rem 0 0 0.5rem;">One Way</button>
                                <button type="button" id="roundTripBtnIntl" class="trip-toggle" style="flex: 1; border-radius: 0 0.5rem 0.5rem 0;">Round Trip</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Passenger Details -->
                <div class="section-card">
                    <h3 class="font-brand-header section-title"><span class="section-dot"></span>Passenger Identity</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="form-label">Title</label>
                            <select name="title" class="form-select" required>
                                <option value="">Select</option>
                                <option value="Mr.">Mr.</option>
                                <option value="Mrs.">Mrs.</option>
                                <option value="Ms.">Ms.</option>
                                <option value="Master">Master</option>
                            </select>
                        </div>
                        <div>
                            <label class="form-label">First Name (Passport)</label>
                            <input type="text" name="firstName" class="form-input" required>
                        </div>
                        <div class="md:col-span-2">
                            <label class="form-label">Last Name</label>
                            <input type="text" name="lastName" class="form-input" required>
                        </div>
                        <div>
                            <label class="form-label">Date of Birth</label>
                            <input type="date" name="dob" class="form-input" max="2024-12-31" required>
                        </div>
                        <div>
                            <label class="form-label">Passport No.</label>
                            <input type="text" name="passportNumber" class="form-input" required>
                        </div>
                        <div>
                            <label class="form-label">Passport Exp.</label>
                            <input type="date" name="passportExpiry" class="form-input" id="passportExp" required>
                        </div>
                        <div>
                            <label class="form-label">Visa # (Optional)</label>
                            <input type="text" name="visaNumber" class="form-input">
                        </div>
                        <div>
                            <label class="form-label">FF# (Optional)</label>
                            <input type="text" name="ffNumber" class="form-input" placeholder="Airline Membership">
                        </div>
                    </div>
                </div>

                <!-- Flight Details -->
                <div class="section-card">
                    <h3 class="font-brand-header section-title"><span class="section-dot"></span>Flight Logistics</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="md:col-span-2">
                            <label class="form-label">Airline (Optional)</label>
                            <input type="text" name="airline" class="form-input" placeholder="Emirates, Qatar Airways, etc.">
                        </div>
                        <div>
                            <label class="form-label">Origin Code</label>
                            <input type="text" name="origin" class="form-input" placeholder="DEL" style="text-transform: uppercase;" required>
                        </div>
                        <div>
                            <label class="form-label">Dest. Code</label>
                            <input type="text" name="destination" class="form-input" placeholder="SYD" style="text-transform: uppercase;" required>
                        </div>
                        <div>
                            <label class="form-label">Depart Date</label>
                            <input type="date" name="departDate" class="form-input" id="departDateIntl" required>
                        </div>
                        <div>
                            <label class="form-label">Depart Time</label>
                            <input type="time" name="departTime" class="form-input" required>
                        </div>
                        <div>
                            <label class="form-label">Arrival Time</label>
                            <input type="time" name="arrivalTime" class="form-input" required>
                        </div>

                        <!-- Return Fields -->
                        <div id="returnDateFieldIntl" style="display: none;">
                            <label class="form-label">Return Date</label>
                            <input type="date" name="returnDate" class="form-input" id="returnDateIntl">
                        </div>
                        <div id="returnTimeFieldIntl" style="display: none;">
                            <label class="form-label">Return Depart Time</label>
                            <input type="time" name="returnTime" class="form-input">
                        </div>
                        <div id="returnArrivalFieldIntl" style="display: none;">
                            <label class="form-label">Return Arrival Time</label>
                            <input type="time" name="returnArrival" class="form-input">
                        </div>

                        <div>
                            <label class="form-label">Cabin Class</label>
                            <select name="class" class="form-select" required>
                                <option value="Economy" selected>Economy</option>
                                <option value="Business">Business</option>
                                <option value="First">First</option>
                            </select>
                        </div>
                        <div>
                            <label class="form-label">Refund Type</label>
                            <select name="refundPreference" class="form-select" required>
                                <option value="Saver" selected>Saver</option>
                                <option value="Flexi">Flexi</option>
                                <option value="Value">Value</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Payment Details -->
                <div class="section-card">
                    <h3 class="font-brand-header section-title"><span class="section-dot"></span>Payment Information</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="form-label">Committed Price</label>
                            <input type="text" name="price" class="form-input" placeholder="$500 or â‚¹50,000" required>
                        </div>
                        <div>
                            <label class="form-label">Status</label>
                            <select name="paymentStatus" class="form-select" required>
                                <option value="DUE" selected>DUE</option>
                                <option value="PAID">PAID</option>
                            </select>
                        </div>
                        <div class="md:col-span-2">
                            <label class="form-label">Payment Method</label>
                            <select name="paymentMethod" class="form-select" required>
                                <option value="Shezan CC" selected>Shezan CC</option>
                                <option value="Shezan's Friend">Shezan's Friend</option>
                                <option value="Avesh SBI">Avesh SBI</option>
                                <option value="Mulla Salim">Mulla Salim</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Notes -->
                <div class="section-card">
                    <label class="form-label">Operational Notes</label>
                    <textarea name="notes" class="form-input" rows="2" placeholder="Special requests, baggage allowance, etc."></textarea>
                </div>

                <button type="submit" class="submit-btn">Send to WhatsApp ðŸ’¬</button>
            </form>
        </div>
    </div>

    <script>
        const PHONE = '9717843955';
        const SIG = 'âœ“';

        // Set smart date defaults
        const today = new Date();
        const todayStr = today.toISOString().split('T')[0];
        const sixMonthsLater = new Date(today);
        sixMonthsLater.setMonth(sixMonthsLater.getMonth() + 6);
        const sixMonthsStr = sixMonthsLater.toISOString().split('T')[0];

        // Set minimum dates for departure (today onwards)
        document.getElementById('departDateDom').min = todayStr;
        document.getElementById('departDateIntl').min = todayStr;
        document.getElementById('returnDateDom').min = todayStr;
        document.getElementById('returnDateIntl').min = todayStr;

        // Set minimum passport expiry (6 months from today)
        document.getElementById('passportExp').min = sixMonthsStr;

        // Access Code
        const code = document.getElementById('accessCode');
        const err = document.getElementById('accessError');
        const lock = document.getElementById('lockOverlay');
        const main = document.getElementById('mainContent');

        code.addEventListener('input', function(e) {
            if (e.target.value === '1110') {
                lock.style.opacity = '0';
                setTimeout(() => {
                    lock.style.display = 'none';
                    main.style.display = 'block';
                }, 400);
                err.style.display = 'none';
            } else if (e.target.value.length === 4) {
                err.style.display = 'block';
                e.target.value = '';
            }
        });

        // Tabs
        const domTab = document.getElementById('domesticTab');
        const intlTab = document.getElementById('internationalTab');
        const domForm = document.getElementById('domesticForm');
        const intlForm = document.getElementById('internationalForm');

        domTab.onclick = () => {
            domTab.classList.add('active');
            intlTab.classList.remove('active');
            domForm.style.display = 'block';
            intlForm.style.display = 'none';
        };

        intlTab.onclick = () => {
            intlTab.classList.add('active');
            domTab.classList.remove('active');
            intlForm.style.display = 'block';
            domForm.style.display = 'none';
        };

        // Domestic Trip Type
        const oneWay = document.getElementById('oneWayBtn');
        const roundTrip = document.getElementById('roundTripBtn');
        const retDate = document.getElementById('returnDateField');
        const retTime = document.getElementById('returnTimeField');
        const retArr = document.getElementById('returnArrivalField');

        oneWay.onclick = () => {
            oneWay.classList.add('active');
            roundTrip.classList.remove('active');
            retDate.style.display = 'none';
            retTime.style.display = 'none';
            retArr.style.display = 'none';
            domForm.querySelector('[name="returnDate"]').removeAttribute('required');
            domForm.querySelector('[name="returnTime"]').removeAttribute('required');
            domForm.querySelector('[name="returnArrival"]').removeAttribute('required');
        };

        roundTrip.onclick = () => {
            roundTrip.classList.add('active');
            oneWay.classList.remove('active');
            retDate.style.display = 'block';
            retTime.style.display = 'block';
            retArr.style.display = 'block';
            domForm.querySelector('[name="returnDate"]').setAttribute('required', 'required');
            domForm.querySelector('[name="returnTime"]').setAttribute('required', 'required');
            domForm.querySelector('[name="returnArrival"]').setAttribute('required', 'required');
        };

        // International Trip Type
        const oneWayIntl = document.getElementById('oneWayBtnIntl');
        const roundTripIntl = document.getElementById('roundTripBtnIntl');
        const retDateIntl = document.getElementById('returnDateFieldIntl');
        const retTimeIntl = document.getElementById('returnTimeFieldIntl');
        const retArrIntl = document.getElementById('returnArrivalFieldIntl');

        oneWayIntl.onclick = () => {
            oneWayIntl.classList.add('active');
            roundTripIntl.classList.remove('active');
            retDateIntl.style.display = 'none';
            retTimeIntl.style.display = 'none';
            retArrIntl.style.display = 'none';
            intlForm.querySelector('[name="returnDate"]').removeAttribute('required');
            intlForm.querySelector('[name="returnTime"]').removeAttribute('required');
            intlForm.querySelector('[name="returnArrival"]').removeAttribute('required');
        };

        roundTripIntl.onclick = () => {
            roundTripIntl.classList.add('active');
            oneWayIntl.classList.remove('active');
            retDateIntl.style.display = 'block';
            retTimeIntl.style.display = 'block';
            retArrIntl.style.display = 'block';
            intlForm.querySelector('[name="returnDate"]').setAttribute('required', 'required');
            intlForm.querySelector('[name="returnTime"]').setAttribute('required', 'required');
            intlForm.querySelector('[name="returnArrival"]').setAttribute('required', 'required');
        };

        // Format Date
        function fd(d) {
            if (!d) return '';
            const dt = new Date(d);
            return `${String(dt.getDate()).padStart(2, '0')}/${String(dt.getMonth() + 1).padStart(2, '0')}/${dt.getFullYear()}`;
        }

        // Format Time
        function ft(t) {
            if (!t) return '';
            const [h, m] = t.split(':');
            const hr = parseInt(h);
            const ap = hr >= 12 ? 'PM' : 'AM';
            const dh = hr % 12 || 12;
            return `${dh}:${m} ${ap}`;
        }

        // Domestic Form
        domForm.onsubmit = (e) => {
            e.preventDefault();
            const f = new FormData(e.target);

            let msg = `${SIG} CONFIRMED BOOKING\n\n`;
            msg += `Trip ID: #${f.get('tripId')}\n\n`;
            msg += `PASSENGER:\n`;
            msg += `Name: ${f.get('title')} ${f.get('firstName')} ${f.get('lastName')}\n`;
            msg += `DOB: ${fd(f.get('dob'))}`;
            if (f.get('ffNumber')) msg += `\nFF#: ${f.get('ffNumber')}`;

            msg += `\n\nFLIGHT:\n`;
            msg += `Airline: ${f.get('airline')}\n`;
            msg += `Route: ${f.get('origin')} â†’ ${f.get('destination')}\n`;
            msg += `Depart: ${fd(f.get('departDate'))} at ${ft(f.get('departTime'))}\n`;
            msg += `Arrival: ${ft(f.get('arrivalTime'))}`;

            if (f.get('returnDate') && f.get('returnTime')) {
                msg += `\nReturn Depart: ${fd(f.get('returnDate'))} at ${ft(f.get('returnTime'))}`;
                if (f.get('returnArrival')) msg += `\nReturn Arrival: ${ft(f.get('returnArrival'))}`;
            }

            msg += `\nClass: ${f.get('class')}`;

            msg += `\n\nPAYMENT:\n`;
            msg += `Price: ${f.get('price')}\n`;
            msg += `Method: ${f.get('paymentMethod')}\n`;
            msg += `Status: ${f.get('paymentStatus')}`;

            if (f.get('notes')) msg += `\n\nNOTES:\n${f.get('notes')}`;

            window.open(`https://wa.me/${PHONE}?text=${encodeURIComponent(msg)}`, '_blank');
        };

        // International Form
        intlForm.onsubmit = (e) => {
            e.preventDefault();
            const f = new FormData(e.target);

            let msg = `${SIG} INTERNATIONAL BOOKING REQUEST\n\n`;
            msg += `Trip ID: ${f.get('tripId')}\n\n`;
            msg += `PASSENGER:\n`;
            msg += `Name: ${f.get('title')} ${f.get('firstName')} ${f.get('lastName')}\n`;
            msg += `DOB: ${fd(f.get('dob'))}\n`;
            msg += `Passport: ${f.get('passportNumber')}\n`;
            msg += `Passport Exp: ${fd(f.get('passportExpiry'))}`;
            if (f.get('visaNumber')) msg += `\nVisa: ${f.get('visaNumber')}`;
            if (f.get('ffNumber')) msg += `\nFF#: ${f.get('ffNumber')}`;

            msg += `\n\nFLIGHT:`;
            if (f.get('airline')) msg += `\nAirline: ${f.get('airline')}`;
            msg += `\nRoute: ${f.get('origin')} â†’ ${f.get('destination')}\n`;
            msg += `Depart: ${fd(f.get('departDate'))} at ${ft(f.get('departTime'))}\n`;
            msg += `Arrival: ${ft(f.get('arrivalTime'))}`;

            if (f.get('returnDate') && f.get('returnTime')) {
                msg += `\nReturn Depart: ${fd(f.get('returnDate'))} at ${ft(f.get('returnTime'))}`;
                if (f.get('returnArrival')) msg += `\nReturn Arrival: ${ft(f.get('returnArrival'))}`;
            }

            msg += `\nClass: ${f.get('class')}\n`;
            msg += `Refund: ${f.get('refundPreference')}`;

            msg += `\n\nPAYMENT:\n`;
            msg += `Price: ${f.get('price')}\n`;
            msg += `Method: ${f.get('paymentMethod')}\n`;
            msg += `Status: ${f.get('paymentStatus')}`;

            if (f.get('notes')) msg += `\n\nNOTES:\n${f.get('notes')}`;

            window.open(`https://wa.me/${PHONE}?text=${encodeURIComponent(msg)}`, '_blank');
        };
    </script>
</body>
</html>